var V=(G,l,v)=>new Promise((t,s)=>{var b=i=>{try{h(v.next(i))}catch(S){s(S)}},E=i=>{try{h(v.throw(i))}catch(S){s(S)}},h=i=>i.done?t(i.value):Promise.resolve(i.value).then(b,E);h((v=v.apply(G,l)).next())});import{g as $,b as D,a as ee}from"./env_dido-D-SA9P4Y.js";import{I as g}from"./index-CGgGq9hQ.js";import{I as B}from"./icontype-CrdMeA1p.js";import{v as Q}from"./valueUtil-BReNmlgC.js";import{u as le}from"./useTimer-u5e-KjxW.js";import{d as oe,j as te,r as f,l as j,a as w,o as m,c as y,f as o,w as a,u as n,y as R,F as q,n as U,m as J,b as k,t as T,z as K,_ as ae}from"./index-B378b16y.js";import"./icon-power-off-DaFr1WKX.js";import"./comInterrupt-0m6mzMWM.js";const ne={key:0,class:"detail-content-left-collapse-content dark:!bg-bg_color"},ie={key:0,class:"detail-content-left-collapse-content dark:bg-bg_color"},se={class:"title dark:!text-white"},re={key:0,class:"detail-content-left-collapse-content dark:bg-bg_color"},ue={class:"title dark:!text-white"},r="linear-gradient(90deg, rgba(27, 200, 166, 0.08) 0%, rgba(27, 200, 166, 0.02) 100%)",u="linear-gradient(90deg, rgba(224, 31, 0, 0.08) 0%, rgba(224, 31, 0, 0.02) 100%)",c="#1CCCAA",d="#D01D00",_=4,ce=oe({name:"PowerEnv",__name:"index",setup(G){const{t:l}=te(),v=f("1");f(0);const t=f(),s=f(),b=f(),E=()=>V(this,null,function*(){const[M,C,p]=yield Promise.all([$(1),D(1),ee(1)]);t.value=M.data,b.value=C.data,s.value=p.data}),h={0:{bg:u,title:l("dido.off"),color:d},1:{bg:r,color:c,title:l("dido.on")}},i={0:{bg:r,color:c,title:l("dido.noAlarm")},1:{bg:u,color:d,title:l("dido.alarm")}},S={0:{bg:u,color:d,title:l("dido.open")},1:{bg:r,color:c,title:l("dido.close")}},N=f();j(()=>t.value,()=>{N.value=[{label:"dido.EmergencyStop",value:t.value.EmergencyStop,options:{0:{bg:r,color:c,title:l("dido.unPress")},1:{bg:u,color:d,title:l("dido.press")}}},{label:"dido.QF1GridFeedback",value:t.value.QF1GridFeedback,options:h},{label:"dido.QF2BatFeedback",value:t.value.QF2BatFeedback,options:h},{label:"dido.WaterSensor",value:t.value.WaterSensor,options:i},{label:"dido.BmsAccessControl",value:t.value.BmsAccessControl,options:S},{label:"dido.AerosolSensor",value:t.value.AerosolSensor,options:i},{label:"dido.ElecAccessControl",value:t.value.ElecAccessControl,options:S},{label:"dido.LtgProtsignal",value:t.value.LtgProtsignal,options:i},{label:"dido.GasLowAlarm",value:t.value.GasLowAlarm,options:i},{label:"dido.GasHighAlarm",value:t.value.GasHighAlarm,options:i},{label:"dido.TempSensor",value:t.value.TempSensor,options:i},{label:"dido.SmokeSensor",value:t.value.SmokeSensor,options:i}]});const W=f(),H={0:{bg:r,color:c,title:l("dido.NotTripped")},1:{bg:u,color:d,title:l("dido.Tripping")}},P={0:{bg:r,color:c,title:l("dido.Closed")},1:{bg:u,color:d,title:l("dido.Open")}},X={0:{bg:u,color:d,title:l("dido.LightsOff")},1:{bg:r,color:c,title:l("dido.LightsOn")}},Y={0:{bg:r,color:c,title:l("dido.LightsOff")},1:{bg:u,color:d,title:l("dido.LightsOn")}},z={0:{bg:r,color:c,title:l("dido.Stop")},1:{bg:u,color:d,title:l("dido.Run")}},Z={0:{bg:r,color:c,title:l("dido.AutomaticMode")},1:{bg:u,color:d,title:l("dido.ManualControl")}};return j(()=>s.value,()=>{W.value=[{label:"dido.QF1Tripping",value:s.value.QF1GridTripEnable,options:H},{label:"dido.QF2Tripping",value:s.value.QF2BatTripEnable,options:H},{label:"dido.RemoteEmergencyStop",value:s.value.RemoteEmergencyStop,options:P},{label:"dido.AerosolSensor1",value:s.value.Aerosol1,options:P},{label:"dido.RunLight",value:s.value.RunLightTripEnable,options:X},{label:"dido.WarningLight",value:s.value.FaultLightTripEnable,options:Y},{label:"dido.ExhaustFan",value:s.value.FanStartStop,options:z},{label:"dido.AcoustoOptic",value:s.value.AcoustoOptic,options:z},{label:"dido.ControlMode",value:s.value.ControlMode,options:Z}]}),le(()=>{E()},{time:500,immediate:!0,immediateCallback:!0}),(M,C)=>{const p=w("el-col"),L=w("el-row"),I=w("el-collapse-item"),x=w("el-collapse");return m(),y("div",null,[o(x,{class:"detail-content-left-collapse dark:!bg-bg_color",accordion:!1,"model-value":v.value,onChange:C[0]||(C[0]=e=>{})},{default:a(()=>[o(I,{name:"1"},{title:a(()=>[o(g,{label:n(l)("home.ERtempHumi"),"label-style":{fontWeight:600,fontSize:"14px",color:"#333333"},value:"","enable-row":!0,"icon-type":n(B).systemTempDifference},null,8,["label","icon-type"])]),default:a(()=>[b.value?(m(),y("div",ne,[o(L,{gutter:12},{default:a(()=>[o(p,{span:_},{default:a(()=>{var e;return[o(g,{label:n(l)("home.temp"),value:n(Q).roundString((e=b.value)==null?void 0:e.SensorTemp,1),unit:"℃"},null,8,["label","value"])]}),_:1}),o(p,{span:_},{default:a(()=>{var e;return[o(g,{label:n(l)("home.humi"),value:n(Q).roundString((e=b.value)==null?void 0:e.SensorHumi,1),unit:"%"},null,8,["label","value"])]}),_:1}),o(p,{span:_},{default:a(()=>{var e;return[o(g,{label:n(l)("home.dewPoint"),value:n(Q).roundString((e=b.value)==null?void 0:e.Dewpoint,1),unit:"℃"},null,8,["label","value"])]}),_:1}),o(p,{span:_},{default:a(()=>{var e;return[o(g,{label:n(l)("home.timeoutFlag"),value:(e=b.value)!=null&&e.TimeoutFlag?n(l)("home.On"):n(l)("home.Off")},null,8,["label","value"])]}),_:1}),o(p,{span:_})]),_:1})])):R("",!0)]),_:1})]),_:1},8,["model-value"]),o(x,{class:"detail-content-left-collapse dark:!bg-bg_color",accordion:!1,"model-value":v.value},{default:a(()=>[o(I,{name:"1"},{title:a(()=>[o(g,{label:n(l)("dido.DIStatus"),"label-style":{fontWeight:600,fontSize:"14px",color:"#333333"},value:"","enable-row":!0,"icon-type":n(B).systemVoltDifference},null,8,["label","icon-type"])]),default:a(()=>[t.value?(m(),y("div",ie,[o(L,{gutter:12},{default:a(()=>[(m(!0),y(q,null,U(N.value,e=>(m(),J(p,{key:e.label,span:_},{default:a(()=>{var O,F,A;return[k("div",null,[k("p",se,T(n(l)(e.label)),1),k("p",{class:"value",style:K({background:(O=e.options[e==null?void 0:e.value])==null?void 0:O.bg,color:(F=e.options[e==null?void 0:e.value])==null?void 0:F.color})},T((A=e.options[e==null?void 0:e.value])==null?void 0:A.title),5)])]}),_:2},1024))),128))]),_:1})])):R("",!0)]),_:1})]),_:1},8,["model-value"]),o(x,{class:"detail-content-left-collapse dark:!bg-bg_color",accordion:!1,"model-value":v.value},{default:a(()=>[o(I,{name:"1"},{title:a(()=>[o(g,{label:n(l)("dido.DOStatus"),"label-style":{fontWeight:600,fontSize:"14px",color:"#333333"},value:"","enable-row":!0,"icon-type":n(B).systemVoltDifference},null,8,["label","icon-type"])]),default:a(()=>[t.value?(m(),y("div",re,[o(L,{gutter:12},{default:a(()=>[(m(!0),y(q,null,U(W.value,e=>(m(),J(p,{key:e.label,span:_},{default:a(()=>{var O,F,A;return[k("div",null,[k("p",ue,T(n(l)(e.label)),1),k("p",{class:"value",style:K({background:(O=e.options[e==null?void 0:e.value])==null?void 0:O.bg,color:(F=e.options[e==null?void 0:e.value])==null?void 0:F.color})},T((A=e.options[e==null?void 0:e.value])==null?void 0:A.title),5)])]}),_:2},1024))),128))]),_:1})])):R("",!0)]),_:1})]),_:1},8,["model-value"])])}}}),Se=ae(ce,[["__scopeId","data-v-f3a20998"]]);export{Se as default};
