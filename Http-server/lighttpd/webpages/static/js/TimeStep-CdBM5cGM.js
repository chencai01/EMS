import{A as h,M as d}from"./utils-CABZ3EnZ.js";import{d as S,x as f,a as b,o as a,c as r,f as C,w as T,F as p,n as w,u as n,y as c,z as y,s as _,t as m,b as g,$ as x,_ as A}from"./index-B378b16y.js";const B={key:1,class:"time hour24"},z={key:0,class:"legend"},M=S({name:"TimeStep",__name:"TimeStep",props:{steps:{type:Array,default:()=>[]},showTime:{type:Boolean,default:!0},legends:{type:Array,default:()=>[]}},setup(i){const l=i,k=s=>{for(let e=0;e<l.steps.length;e++){const o=l.steps[e];if(s>=o.startIndex&&s<o.endIndex)return o.color}},v=f(()=>{const s=new Set;s.add(0);for(let e=0;e<l.steps.length;e++){const o=l.steps[e];s.add(o.startIndex),s.add(o.endIndex)}return s.add(h.length-1),[...s].sort((e,o)=>e-o)}),u=f(()=>{const s={};return l.steps.forEach(e=>{e.power&&(s[Math.ceil((e.startIndex+e.endIndex)/2)]={power:e.power,color:e.color,short:e.endIndex-e.startIndex<=2})}),s}),I=s=>({"background-color":k(s)});return(s,e)=>{const o=b("el-row");return a(),r(p,null,[C(o,{class:"time-step"},{default:T(()=>[(a(!0),r(p,null,w(n(d),t=>(a(),r("div",{key:t,style:y(I(t-1)),class:"hour"},[i.showTime?(a(),r(p,{key:0},[v.value.includes(t-1)?(a(),r("span",{key:0,class:_(["time",{hour0:t-1===0,time2345:t===n(d)-1}])},m(n(h)[t-1]),3)):c("",!0),t===n(d)?(a(),r("span",B,m(n(h)[n(d)]),1)):c("",!0),u.value[t]?(a(),r("span",{key:2,class:_(["power",{short:u.value[t].short}]),style:y({color:u.value[t].color})},m(`p-${u.value[t].power}`),7)):c("",!0)],64)):c("",!0)],4))),128))]),_:1}),l.legends&&l.legends.length?(a(),r("div",z,[(a(!0),r(p,null,w(i.legends,t=>(a(),r("div",{key:t.value,class:"mode"},[g("span",{class:"color",style:y({backgroundColor:t.color})},null,4),g("span",null,m(n(x)(t.label)),1)]))),128))])):c("",!0)],64)}}}),$=A(M,[["__scopeId","data-v-15dabb6f"]]);export{$ as default};
