var M=Object.defineProperty,k=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var u=(r,t,e)=>t in r?M(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,y=(r,t)=>{for(var e in t||(t={}))w.call(t,e)&&u(r,e,t[e]);if(l)for(var e of l(t))h.call(t,e)&&u(r,e,t[e]);return r},f=(r,t)=>k(r,D(t));var _=(r,t,e)=>new Promise((m,n)=>{var c=o=>{try{s(e.next(o))}catch(i){n(i)}},a=o=>{try{s(e.throw(o))}catch(i){n(i)}},s=o=>o.done?m(o.value):Promise.resolve(o.value).then(c,a);s((e=e.apply(r,t)).next())});import x from"./index-8dw8MoHK.js";import{r as q}from"./meter-CmXvhCrg.js";import{u as E}from"./useTimer-DPmIGUt7.js";import{u as g}from"./meter-Ln2vfG7f.js";import L from"./index-JA0aFQPi.js";import T from"./index-zLblGQpx.js";import{d as B,l as N,r as v,p as I,o as d,q as p,w as P,f as S,y as C,_ as V}from"./index-BSlF4gO8.js";import"./icon-settings-BE6Rst9v.js";import"./valueUtil-BReNmlgC.js";import"./comInterrupt-Cm5Fxwa_.js";import"./tableStyle-qj-JclAQ.js";const b={class:"page-container"},A=B({name:"DeviceMeter",__name:"index",setup(r){const{t}=N(),e=v([]),m=()=>_(this,null,function*(){try{const a=yield q();a.code==200?e.value=a.data.energyMeterCard.map((s,o)=>f(y({},s),{index:o,MeterName:[t("meter.ACSide"),t("meter.internalLoad"),t("meter.transformerMeter")][o]})):console.warn("--[meter] requestEnergyMeterData invalid code",a.code)}catch(a){console.warn("--[meter] --requestEnergyMeterData error:",a)}}),n=v(g().layoutType||"card"),c=a=>{n.value=a};return I(()=>n.value,a=>{g().setLayoutType(a)}),E(()=>{m()},{immediate:!0,immediateCallback:!0}),(a,s)=>(d(),p(x,{"active-name":"meter",type:n.value,onTypeClick:c},{default:P(()=>[S("div",b,[n.value==="card"?(d(),p(L,{key:0,"energy-meter-data":e.value},null,8,["energy-meter-data"])):C("",!0),n.value==="list"?(d(),p(T,{key:1,"energy-meter-data":e.value},null,8,["energy-meter-data"])):C("",!0)])]),_:1},8,["type"]))}}),W=V(A,[["__scopeId","data-v-af445e2f"]]);export{W as default};
