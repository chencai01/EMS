var J=Object.defineProperty;var M=(m,t,n)=>t in m?J(m,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):m[t]=n;var s=(m,t,n)=>M(m,typeof t!="symbol"?t+"":t,n);import{I as C}from"./index-zPJBks9f.js";import{l as H,J as T,d as G,c as I,v as O,a as E,o as z,q as R,w as $,e as W,u as D,f as F,b as U,i as P,F as Q,n as X,y as Y,_ as Z}from"./index-BSlF4gO8.js";import{v as r}from"./valueUtil-BReNmlgC.js";import{I as j}from"./icontype-wbc23cyS.js";class ee{constructor(t){s(this,"adminLoopData");s(this,"adminLoopDataKeys");s(this,"adminLoopDataRows");s(this,"moduleName");s(this,"$t");s(this,"$te");s(this,"locale");s(this,"normalize",([t])=>t);s(this,"getAdminDataItemLabelByKey",t=>this.$t(this.moduleName+".adminLoopData."+t+(typeof this.adminLoopData[t]=="object"?".key":"")));s(this,"getAdminDataItemLabel",(t,n)=>{const l=this.adminLoopDataKeys[t*4+n];return this.getAdminDataItemLabelByKey(l)});s(this,"getAdminDataItemDataByKey",(t,n)=>{var i,u,c,v,d,y,B,N,S;const l=t,e=this.adminLoopData[l],a=n[l];if(typeof e=="object"){const f=this.moduleName+".adminLoopData."+l+".value",w=e.value,L=(i=e.type)==null?void 0:i.call(e,{normalize:this.normalize}),V=(u=e.unit)==null?void 0:u.call(e,{normalize:this.normalize}),g=typeof e.decimals=="number"?e.decimals:(c=e.decimals)==null?void 0:c.call(e,{normalize:this.normalize}),q=r.isObjectEmpty(w),x=f+"."+a;if(typeof L=="string"&&L.length&&L.indexOf("bits")!=-1){const o=(v=e.bitsPrefixI18n0Key)==null?void 0:v.call(e,{normalize:this.normalize}),p=(d=e.bitsPrefixI18n1Key)==null?void 0:d.call(e,{normalize:this.normalize}),b=(y=e.bitsSuffixI18n1Key)==null?void 0:y.call(e,{normalize:this.normalize}),_=(B=e.bitsSuffixI18n0Key)==null?void 0:B.call(e,{normalize:this.normalize}),A=L.indexOf("no-filter")!=-1;let h=Object.keys(w);return A||(h=h.filter(k=>r.getBitValue(a,parseInt(k.replace("bit","")))==1)),h=h.map(k=>{const K=r.getBitValue(a,parseInt(k.replace("bit","")));return(A&&(o!=null&&o.length)&&(p!=null&&p.length)?this.$t(K==1?p:o):"")+this.$t(f+"."+k)+(A&&(_!=null&&_.length)&&(b!=null&&b.length)?this.$t(K==1?b:_):"")}),{value:h.length<=0?"--":h,unit:""}}if(q){let o=null;switch(V){case"Ah":case"Hz":case"V":case"A":case"â„ƒ":o={value:r.roundString(a,g),unit:V};break;case"kW":o=r.kWShortRoundString(a,g);break;case"kWh":o=r.kWhShortRoundString(a,g);break;case"kvar":o=r.kvarShortRoundString(a,g);break;default:o={value:r.roundString(a,g),unit:V};break}return{value:(N=o==null?void 0:o.value)!=null?N:"--",unit:(S=o==null?void 0:o.unit)!=null?S:""}}else return{value:this.$te(x)?this.$t(x):"--",unit:""}}else return typeof a=="number"?{value:r.isValid(a)?`${a}`:"--",unit:""}:typeof a=="string"?{value:a.length<=0?"--":a,unit:""}:{value:a||"--",unit:""}});s(this,"getAdminDataItemData",(t,n,l)=>{const e=this.adminLoopDataKeys[t*4+n];return this.getAdminDataItemDataByKey(e,l)});var a;const{locale:n,t:l,te:e}=H();this.$t=l,this.$te=e,this.locale=n,this.moduleName=t,this.adminLoopData=(a=T.en[t])==null?void 0:a.adminLoopData,this.adminLoopDataKeys=Object.keys(this.adminLoopData),this.adminLoopDataRows=Math.ceil(this.adminLoopDataKeys.length/4)}}const te={class:"admin-loop-data-collapse-content"},ae={class:"grid-container"},oe=G({name:"AdminLoopData",__name:"index",props:{moduleName:{},data:{}},setup(m){const t=m,{t:n}=H(),l=I(()=>{var i;return(i=O())==null?void 0:i.isAdmin()}),e=I(()=>{var u,c;let i=1;return t.moduleName==="pcs"&&(i=(c=(u=t.data)==null?void 0:u.online_flag)!=null?c:1),i}),a=new ee(t.moduleName);return(i,u)=>{const c=E("el-collapse-item"),v=E("el-collapse");return l.value?(z(),R(v,{key:0,class:X(["admin-loop-data-collapse",{comOff:!e.value}]),accordion:!1,onChange:u[0]||(u[0]=d=>{})},{default:$(()=>[W(c,{name:"1"},{title:$(()=>[W(C,{label:D(n)("home.adminData"),"label-style":{fontWeight:600,fontSize:"14px",color:"#333333"},value:"","enable-row":!0,"icon-type":D(j).adminData},null,8,["label","icon-type"])]),default:$(()=>[F("div",te,[F("div",ae,[(z(!0),U(Q,null,P(D(a).adminLoopDataKeys,(d,y)=>(z(),U("div",{key:y,class:"grid-item-container"},[(z(),R(C,{key:y,label:D(a).getAdminDataItemLabelByKey(d),"value-unit":D(a).getAdminDataItemDataByKey(d,t.data)},null,8,["label","value-unit"]))]))),128))])])]),_:1})]),_:1},8,["class"])):Y("",!0)}}}),ue=Z(oe,[["__scopeId","data-v-311607d0"]]);export{ue as A};
