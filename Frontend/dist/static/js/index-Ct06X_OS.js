var M=Object.defineProperty,k=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var u=(r,t,e)=>t in r?M(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,y=(r,t)=>{for(var e in t||(t={}))w.call(t,e)&&u(r,e,t[e]);if(p)for(var e of p(t))h.call(t,e)&&u(r,e,t[e]);return r},f=(r,t)=>k(r,D(t));var _=(r,t,e)=>new Promise((m,n)=>{var c=o=>{try{s(e.next(o))}catch(i){n(i)}},a=o=>{try{s(e.throw(o))}catch(i){n(i)}},s=o=>o.done?m(o.value):Promise.resolve(o.value).then(c,a);s((e=e.apply(r,t)).next())});import x from"./index-CAZyMmeb.js";import{r as E}from"./meter-nf4_0FAI.js";import{u as L}from"./useTimer-u5e-KjxW.js";import{u as g}from"./meter-D2YiTlW_.js";import T from"./index-BgZz6U-2.js";import b from"./index-ShERLqHo.js";import{d as q,j as B,r as v,l as N,o as d,m as l,w as I,b as P,y as C,_ as S}from"./index-B378b16y.js";import"./icon-settings-B7co2eUu.js";import"./valueUtil-BReNmlgC.js";import"./comInterrupt-0m6mzMWM.js";import"./tableStyle-qj-JclAQ.js";const V={class:"page-container"},j=q({name:"DeviceMeter",__name:"index",setup(r){const{t}=B(),e=v([]),m=()=>_(this,null,function*(){try{const a=yield E();a.code==200?e.value=a.data.energyMeterCard.map((s,o)=>f(y({},s),{index:o,MeterName:[t("meter.ACSide"),t("meter.internalLoad"),t("meter.transformerMeter")][o]})):console.warn("--[meter] requestEnergyMeterData invalid code",a.code)}catch(a){console.warn("--[meter] --requestEnergyMeterData error:",a)}}),n=v(g().layoutType||"card"),c=a=>{n.value=a};return N(()=>n.value,a=>{g().setLayoutType(a)}),L(()=>{m()},{immediate:!0,immediateCallback:!0}),(a,s)=>(d(),l(x,{"active-name":"meter",type:n.value,onTypeClick:c},{default:I(()=>[P("div",V,[n.value==="card"?(d(),l(T,{key:0,"energy-meter-data":e.value},null,8,["energy-meter-data"])):C("",!0),n.value==="list"?(d(),l(b,{key:1,"energy-meter-data":e.value},null,8,["energy-meter-data"])):C("",!0)])]),_:1},8,["type"]))}}),W=S(j,[["__scopeId","data-v-d65b2f09"]]);export{W as default};
